<md-toolbar>
    <md-input-container class="inside-toolbar-input">
        <input mdInput type="text"
               #searchKey
               value=""
               i18n-placeholder placeholder="Enter for search device">
    </md-input-container>
    <a md-icon-button *ngIf="searchKey.value" (click)="searchKey.value=''">
        <md-icon>clear</md-icon>
    </a>
    <span class="fill-remain-space"></span>
    <button md-raised-button color="primary" routerLink='add'>
        <md-icon>add</md-icon>
        <span i18n>Add New Device</span>
    </button>
</md-toolbar>
<md-table #table [dataSource]="dataSource">
    <!-- ID Column -->
    <ng-container cdkColumnDef="deviceInfo">
        <md-header-cell *cdkHeaderCellDef> Device Infos </md-header-cell>
        <md-cell *cdkCellDef="let device">
            <div>{{device.displayName}}</div>
            <div>{{device.uniqueID}}</div>
            <div>{{device.simPhoneNumber}}</div>
            <div>{{device.expirationTime * 1000 | date: 'short'}}</div>
        </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="vehicleInfo">
        <md-header-cell *cdkHeaderCellDef>Vehicle Infos</md-header-cell>
        <md-cell *cdkCellDef="let device">
            <div>{{device.licenseExpire * 1000 | date: 'short'}}</div>
            <div>{{device.vehicleID}}</div>
            <div>{{device.vehicleModel}}</div>
            <div>{{device.vehicleMake}}</div>
            <div>{{device.lastOdometerKM}}</div>
        </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="eventInfo">
        <md-header-cell *cdkHeaderCellDef>Last Event Infos</md-header-cell>
        <md-cell *cdkCellDef="let device">
            <div>{{device.lastBatteryLevel}}</div>
            <div>{{device.lastDataPushTime * 1000 | date: 'short'}}</div>
            <div>{{device.lastValidLatitude}}/{{device.lastValidLongitude}}</div>
        </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="notes">
        <md-header-cell *cdkHeaderCellDef="">Notes</md-header-cell>
        <md-cell *cdkCellDef="let device">
            <div>{{device.notes}}</div>
        </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="actions">
        <md-header-cell *cdkHeaderCellDef="">Actions</md-header-cell>
        <md-cell *cdkCellDef="let device">
            <button md-icon-button>
                <md-icon>visibility</md-icon>
            </button>
            <button md-icon-button>
                <md-icon>edit</md-icon>
            </button>
            <button md-icon-button>
                <md-icon>delete</md-icon>
            </button>
        </md-cell>
    </ng-container>

    <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
    <md-row *cdkRowDef="let row; columns: displayedColumns;" class="device-mat-row"></md-row>
</md-table>