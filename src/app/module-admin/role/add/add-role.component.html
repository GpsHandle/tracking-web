<!--Toolbar-->
<md-toolbar>
    <button md-button (click)="back()">
        <md-icon>arrow_back</md-icon>
        <span>Back</span>
    </button>
    <span class="fill-remain-space"></span>
    <button md-raised-button color="primary" (click)="saveNewRole()">
        <md-icon>save</md-icon>
        <span>Save</span>
    </button>
    <button md-raised-button class="toolbar-button" (click)="cancelNewRole()">
        <md-icon>cancel</md-icon>
        <span>Cancel</span>
    </button>
</md-toolbar>

<!--Content-->
<div fxLayout="column" fxLayout.sm="column">
    <md-card class="content-card">
        <md-card-title>
            <span i18n>Add New Role</span>
            <button md-icon-button mdTooltip="Default permissions">
                <md-icon>content_copy</md-icon>
            </button>
        </md-card-title>
        <md-card-content>
            <form>
                <div fxLayout="column">
                    <table class="full-width">
                        <tr>
                            <td>
                                <md-input-container class="full-width">
                                    <input mdInput placeholder="Role Name" [(ngModel)]="newRole.displayName" name="role-name" required>
                                </md-input-container>
                            </td>
                            <td>
                                <table  class="full-width">
                                    <tr>
                                        <td>
                                            <md-checkbox [(ngModel)]="newRole.default" name="role-default">Is Default</md-checkbox>
                                        </td>
                                        <td>
                                            <md-checkbox [disabled]="!isAdministrator" [(ngModel)]="newRole.global" name="role-scope">Is Global</md-checkbox>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>


                    <table width="100%">
                        <tr>
                            <td>
                                <md-input-container class="full-width">
                                    <textarea mdInput placeholder="Description" [(ngModel)]="newRole.description" name="description"></textarea>
                                </md-input-container>
                            </td>
                            <td>
                                <md-input-container class="full-width">
                                    <textarea mdInput placeholder="Notes" [(ngModel)]="newRole.notes" name="notes"></textarea>
                                </md-input-container>
                            </td>
                        </tr>
                    </table>
                </div>
            </form>
        </md-card-content>
    </md-card>

    <perm-basic
                [is_edit]="true"
                [permMapLive]="perm_map_live"
                [permMapHistory]="perm_map_history"
                [permReportSummary]="perm_report_summary"
                [permReportSpeeding]="perm_report_speeding"
                [permReportParking]="perm_report_parking"
                [permReportGeozone]="perm_report_geozone"
                [permAccount]="perm_account"
                [permRole]="perm_role"
                [permDevice]="perm_device"
                [permAlert]="perm_alert"
                [permGeozone]="perm_geozone"
                (change)="permChange($event)"></perm-basic>
    <!--Permissions details for account-->
    <perm-account *ngIf="perm_account>3"
                  [is_edit]="true"
                  [account_acl]="newRoleAcl.fields.account"
                  (change)="permItemAccountChange($event)"></perm-account>
    <!--Todo: later change-->
    <perm-device *ngIf="perm_device>3"></perm-device>

    <div *ngIf="showContent==3"> <!--Page.device permission details-->

    </div>
    <div *ngIf="showContent==4"> <!--Page.alert permission details-->

    </div>
    <div *ngIf="showContent==5"> <!--Page.geozone permission details-->

    </div>
</div>
