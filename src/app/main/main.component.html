<mat-progress-bar class="main-progress-bar" mode="indeterminate" *ngIf="loading"></mat-progress-bar>
<div class="main" fullscreen>
    <mat-toolbar color="primary" class="header mat-elevation-z3">
        <button mat-icon-button>
            <mat-icon>home</mat-icon>
        </button>
        <span class="fill-remain-space"></span>
        <button mat-button routerLink="live">
            <mat-icon>map</mat-icon>
            <span i18n>Live</span>
        </button>
        <button mat-button routerLink="report">
            <mat-icon>report</mat-icon>
            <span i18n>Reports</span>
        </button>
        <button mat-button routerLink="_admin">
            <mat-icon>setting</mat-icon>
            <span i18n>Administration</span>
        </button>

        <button mat-icon-button>
            <mat-icon>mail</mat-icon>
        </button>
        <div *ngIf="profile!=null">
            <button mat-button [matMenuTriggerFor]="menu">
                <mat-icon>profile</mat-icon>
                <span>{{profile.accountName}}</span>
            </button>
            <mat-menu #menu="matMenu">
                <div mat-menu-item class="profile-current">
                    <span>{{profile.displayName || profile.contactName}}</span>
                    <span>{{profile.totalDevices || 0}}</span>
                </div>
                <button mat-menu-item>
                    <mat-icon>home</mat-icon>
                    <span>Home</span>
                </button>
                <button mat-menu-item (click)="logout()">
                    <mat-icon>logout</mat-icon>
                    <span i18n>Logout</span>
                </button>
            </mat-menu>
        </div>
    </mat-toolbar>
    <div class="page-content">
        <router-outlet></router-outlet>
    </div>
</div>
